@{
    ViewBag.Title = "التسجيل مغلق حاليًا";
    Layout = "~/Views/Shared/_PublicLayout.cshtml";

    var startDate = ViewBag.RegistrationStartDate as DateTime?;
    var endDate = ViewBag.RegistrationEndDate as DateTime?;
}

<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-lg-8 col-xl-6">

            <!-- رأس الصفحة والشعار -->
            <div class="text-center mb-5">
                <img src="@Url.Content("~/Content/Images/logo.png")" alt="Logo" class="mb-3" style="height: 100px;" onerror="this.style.display='none'">
                <h2 class="fw-bold text-primary">نقابة المحامين الفلسطينيين - مركز غزة</h2>
            </div>

            <div class="card shadow-lg border-0 rounded-3 text-center">
                <!-- شريط أحمر علوي للتنبيه -->
                <div class="card-header bg-danger text-white border-0 py-3 rounded-top-3">
                    <h5 class="mb-0 fw-bold"><i class="bi bi-exclamation-triangle-fill me-2"></i> تنبيه هام</h5>
                </div>

                <div class="card-body p-5">

                    <!-- أيقونة الإغلاق -->
                    <div class="mb-4">
                        <div class="rounded-circle bg-danger bg-opacity-10 d-inline-flex align-items-center justify-content-center" style="width: 120px; height: 120px;">
                            <i class="bi bi-calendar-x text-danger" style="font-size: 5rem;"></i>
                        </div>
                    </div>

                    <h3 class="fw-bold text-dark mb-3">@ViewBag.Title</h3>

                    <p class="text-muted lead mb-4">
                        نأسف، لا يمكنك تقديم طلب التحاق في الوقت الحالي لأن فترة التسجيل قد انتهت أو لم تبدأ بعد.
                    </p>

                    @if (startDate.HasValue && endDate.HasValue)
                    {
                        <div class="card bg-light border-0 mb-4">
                            <div class="card-body">
                                <h6 class="fw-bold text-secondary text-uppercase small mb-3">فترة التسجيل المحددة</h6>
                                <div class="d-flex justify-content-center align-items-center gap-3 flex-wrap">
                                    <div class="badge bg-white text-dark border px-3 py-2 fs-6 shadow-sm">
                                        <i class="bi bi-calendar-check me-2 text-success"></i>
                                        من: @startDate.Value.ToString("yyyy/MM/dd")
                                    </div>
                                    <i class="bi bi-arrow-left text-muted"></i>
                                    <div class="badge bg-white text-dark border px-3 py-2 fs-6 shadow-sm">
                                        <i class="bi bi-calendar-x me-2 text-danger"></i>
                                        إلى: @endDate.Value.ToString("yyyy/MM/dd")
                                    </div>
                                </div>
                            </div>
                        </div>
                    }

                    <p class="text-muted small mb-4">
                        يرجى المحاولة مرة أخرى خلال فترة التسجيل المحددة. مع تمنياتنا لكم بالتوفيق.
                    </p>

                    <div class="d-grid gap-2 col-md-8 mx-auto">
                        <a href="@Url.Action("Index", "Home", new { area = "" })" class="btn btn-primary btn-lg shadow-sm">
                            <i class="bi bi-house-door-fill me-2"></i> العودة للرئيسية
                        </a>
                    </div>

                </div>
            </div>

            <div class="text-center mt-4 text-muted small">
                &copy; @DateTime.Now.Year نقابة المحامين الفلسطينيين
            </div>
        </div>
    </div>
</div>