@model BarManegment.Areas.Admin.ViewModels.BalanceSheetViewModel
@{ Layout = null; }

<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="utf-8" />
    <title>الميزانية العمومية</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Cairo', sans-serif;
        }

        .header-box {
            border-bottom: 3px double #000;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }

        .report-title {
            font-size: 26px;
            font-weight: 800;
            text-align: center;
            text-decoration: underline;
        }

        .table-balance th {
            background-color: #eee !important;
            text-align: center;
            border: 1px solid #000;
        }

        .table-balance td {
            border: 1px solid #000;
            padding: 4px 8px;
        }

        .total-cell {
            background-color: #f0f0f0;
            font-weight: bold;
        }

        .signatures {
            margin-top: 60px;
        }
    </style>
</head>
<body onload="window.print()" class="p-4">

    <div class="header-box text-center">
        <img src="@Url.Content("~/Content/Images/logo.png")" alt="Logo" style="height: 70px;" class="mb-2" />
        <h3 class="fw-bold m-0">نقابة المحامين الفلسطينيين</h3>
        <div class="report-title mt-2">الميزانية العمومية (Statement of Financial Position)</div>
        <p class="mt-2 fw-bold">كما هي في تاريخ: @Model.AsOfDate.ToString("dd / MM / yyyy")</p>
    </div>

    <div class="row">
        <div class="col-6 pe-1">
            <h5 class="text-center fw-bold border p-2 bg-light mb-0">الأصول</h5>
            <table class="table table-sm table-balance mb-0">
                <thead>
                    <tr><th>البيان</th><th width="30%">المبلغ</th></tr>
                </thead>
                <tbody>
                    @foreach (var item in Model.Assets)
                    {
                        <tr>
                            <td>@item.AccountName</td>
                            <td class="text-end">@item.Amount.ToString("N0")</td>
                        </tr>
                    }
                    @for (int i = 0; i < (Model.Liabilities.Count + Model.Equity.Count + 2 - Model.Assets.Count); i++)
                    {
                        <tr><td>&nbsp;</td><td></td></tr>
}
                </tbody>
                <tfoot>
                    <tr class="total-cell">
                        <td>مجموع الأصول</td>
                        <td class="text-end">@Model.TotalAssets.ToString("N0")</td>
                    </tr>
                </tfoot>
            </table>
        </div>

        <div class="col-6 ps-1">
            <h5 class="text-center fw-bold border p-2 bg-light mb-0">الخصوم وحقوق الملكية</h5>
            <table class="table table-sm table-balance mb-0">
                <thead>
                    <tr><th>البيان</th><th width="30%">المبلغ</th></tr>
                </thead>
                <tbody>
                    <tr><td colspan="2" class="fw-bold bg-light fst-italic">الخصوم:</td></tr>
                    @foreach (var item in Model.Liabilities)
                    {
                        <tr>
                            <td>@item.AccountName</td>
                            <td class="text-end">@item.Amount.ToString("N0")</td>
                        </tr>
                    }

                    <tr><td colspan="2" class="fw-bold bg-light fst-italic">حقوق الملكية:</td></tr>
                    @foreach (var item in Model.Equity)
                    {
                        <tr>
                            <td>@item.AccountName</td>
                            <td class="text-end">@item.Amount.ToString("N0")</td>
                        </tr>
                    }

                    <tr>
                        <td>@(Model.NetIncome >= 0 ? "فائض الفترة (أرباح)" : "عجز الفترة (خسائر)")</td>
                        <td class="text-end">@Model.NetIncome.ToString("N0")</td>
                    </tr>
                </tbody>
                <tfoot>
                    <tr class="total-cell">
                        <td>مجموع الخصوم وحقوق الملكية</td>
                        <td class="text-end">@Model.TotalLiabilitiesAndEquity.ToString("N0")</td>
                    </tr>
                </tfoot>
            </table>
        </div>
    </div>

    <div class="row signatures text-center">
        <div class="col-4"><strong>أمين الصندوق</strong><br /><br />_____________</div>
        <div class="col-4"><strong>المدقق الخارجي</strong><br /><br />_____________</div>
        <div class="col-4"><strong>نقيب المحامين</strong><br /><br />_____________</div>
    </div>

</body>
</html>
