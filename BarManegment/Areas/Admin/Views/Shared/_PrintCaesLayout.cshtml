@using BarManegment.Helpers
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Cairo', sans-serif;
            background-color: #eee;
        }

        /* حاوية بحجم A4 */
        .print-container {
            width: 210mm;
            min-height: 297mm;
            margin: 1cm auto;
            background-color: #fff;
            box-shadow: 0 0 0.5cm rgba(0,0,0,0.5);
            box-sizing: border-box;

            /* === بداية التعديل: إضافة الخلفية (الترويسة) === */
            /* تأكد أن المسار صحيح وأن الصورة في مجلد Images */
background-image: url('@Url.Content("~/Content/Images/Letterhead.jpg")');
            background-size: 100% 100%;
            background-repeat: no-repeat;

            /* * تعديل الهوامش الداخلية لتناسب الترويسة
             * (الرقم العلوي كبير ليترك مساحة للهيدر في الصورة)
             * (الرقم السفلي كبير ليترك مساحة للفوتر في الصورة)
            */
            padding: 200px 25mm 60px 25mm; /* أعلى | يمين/يسار | أسفل */
            /* === نهاية التعديل === */
        }

        .no-print {
            position: fixed; top: 10px; left: 10px; z-index: 100;
            background: white; padding: 8px; border-radius: 5px;
        }

        /* إعدادات الطباعة الفعلية */
        @@media print {
            body, html {
                margin: 0;
                padding: 0;
                background-color: #fff;
            }
            .print-container {
                margin: 0;
                padding: 200px 25mm 60px 25mm; /* الحفاظ على الهوامش الداخلية للطباعة */
                box-shadow: none;
                border: none;
                width: 100%;
                min-height: 0;
            }
            .no-print { display: none; }
            table, .sig-block { page-break-inside: avoid; }
        }
    </style>
    @RenderSection("styles", required: false)
</head>
<body>
    <div class="no-print">
        <button class="btn btn-primary btn-sm" onclick="window.print();"><i class="bi bi-printer-fill"></i> طباعة</button>
        <button class="btn btn-secondary btn-sm" onclick="window.close();"><i class="bi bi-x-lg"></i> إغلاق</button>
    </div>

    <div class="print-container">
        @RenderBody()
    </div>

    @RenderSection("scripts", required: false)
</body>
</html>