@model BarManegment.Models.PaymentVoucher
@{
    ViewBag.Title = "تأكيد التحصيل النقدي";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}

<h2><i class="bi bi-cash-coin me-2 text-success"></i> @ViewBag.Title</h2>
<hr />

<div class="alert alert-warning">
    <h4>تأكيد العملية</h4>
    <p>
        أنت على وشك تأكيد استلام مبلغ نقدي بقيمة
        <strong>@Model.TotalAmount.ToString("N2") @(Model.VoucherDetails.FirstOrDefault()?.FeeType.Currency.Symbol)</strong>
        بشكل مباشر (تحصيل نقدي) للقسيمة رقم <strong>@Model.Id</strong> الخاصة بالمحامي
        <strong>@Model.GraduateApplication.ArabicName</strong>.
    </p>
    <p>
        سيؤدي هذا الإجراء إلى إصدار إيصال قبض وتغيير حالة المعاملة إلى "بانتظار التصديق".
    </p>
    <hr>
    <p class="mb-0">هل أنت متأكد أنك تريد المتابعة؟</p>
</div>

@using (Html.BeginForm("ConfirmCashPayment", "ContractTransactions", FormMethod.Post, new { area = "Admin" }))
{
    @Html.AntiForgeryToken()
    @Html.Hidden("PaymentVoucherId", Model.Id)

    <div class="form-group mt-4">
        <input type="submit" value="نعم، تأكيد الاستلام النقدي" class="btn btn-success" />
        @Html.ActionLink("لا، العودة إلى القائمة", "Index", null, new { @class = "btn btn-outline-secondary" })
    </div>
}
