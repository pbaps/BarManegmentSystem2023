@model BarManegment.Models.WorkShift

@{
    ViewBag.Title = "إضافة وردية دوام";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}

<div class="container-fluid pt-4 px-4">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card shadow-sm border-0">
                <div class="card-header bg-primary text-white py-3">
                    <h5 class="mb-0 fw-bold"><i class="bi bi-clock-history me-2"></i> إعدادات دوام جديدة</h5>
                </div>
                <div class="card-body p-4">
                    @using (Html.BeginForm())
                    {
                        @Html.AntiForgeryToken()

                        <div class="row mb-4">
                            <div class="col-md-8">
                                <label class="form-label fw-bold">اسم الوردية / الدوام</label>
                                @Html.EditorFor(model => model.Name, new { htmlAttributes = new { @class = "form-control", placeholder = "مثال: الدوام الرسمي الصباحي" } })
                                @Html.ValidationMessageFor(model => model.Name, "", new { @class = "text-danger small" })
                            </div>
                            <div class="col-md-4">
                                <label class="form-label fw-bold">فترة السماح (تأخير)</label>
                                <div class="input-group">
                                    @Html.EditorFor(model => model.GracePeriodMinutes, new { htmlAttributes = new { @class = "form-control", type = "number", min = "0" } })
                                    <span class="input-group-text">دقيقة</span>
                                </div>
                                <div class="form-text small">الوقت المسموح بالتأخير فيه صباحاً.</div>
                            </div>
                        </div>

                        <div class="row mb-4 bg-light p-3 rounded mx-0 border">
                            <div class="col-12 mb-2 fw-bold text-primary"><i class="bi bi-watch"></i> ساعات العمل اليومية</div>
                            <div class="col-md-6">
                                <label class="form-label fw-bold">بداية الدوام (من)</label>
                                @Html.EditorFor(model => model.StartTime, new { htmlAttributes = new { @class = "form-control", type = "time" } })
                                @Html.ValidationMessageFor(model => model.StartTime, "", new { @class = "text-danger small" })
                            </div>
                            <div class="col-md-6">
                                <label class="form-label fw-bold">نهاية الدوام (إلى)</label>
                                @Html.EditorFor(model => model.EndTime, new { htmlAttributes = new { @class = "form-control", type = "time" } })
                                @Html.ValidationMessageFor(model => model.EndTime, "", new { @class = "text-danger small" })
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label fw-bold d-block mb-2">أيام العطلة الأسبوعية (الإجازة):</label>
                            <div class="d-flex flex-wrap gap-3 p-3 border rounded">
                                <div class="form-check">
                                    @Html.CheckBoxFor(m => m.IsSaturdayOff, new { @class = "form-check-input" })
                                    <label class="form-check-label" for="IsSaturdayOff">السبت</label>
                                </div>
                                <div class="form-check">
                                    @Html.CheckBoxFor(m => m.IsSundayOff, new { @class = "form-check-input" })
                                    <label class="form-check-label" for="IsSundayOff">الأحد</label>
                                </div>
                                <div class="form-check">
                                    @Html.CheckBoxFor(m => m.IsMondayOff, new { @class = "form-check-input" })
                                    <label class="form-check-label" for="IsMondayOff">الاثنين</label>
                                </div>
                                <div class="form-check">
                                    @Html.CheckBoxFor(m => m.IsTuesdayOff, new { @class = "form-check-input" })
                                    <label class="form-check-label" for="IsTuesdayOff">الثلاثاء</label>
                                </div>
                                <div class="form-check">
                                    @Html.CheckBoxFor(m => m.IsWednesdayOff, new { @class = "form-check-input" })
                                    <label class="form-check-label" for="IsWednesdayOff">الأربعاء</label>
                                </div>
                                <div class="form-check">
                                    @Html.CheckBoxFor(m => m.IsThursdayOff, new { @class = "form-check-input" })
                                    <label class="form-check-label" for="IsThursdayOff">الخميس</label>
                                </div>
                                <div class="form-check">
                                    @Html.CheckBoxFor(m => m.IsFridayOff, new { @class = "form-check-input" })
                                    <label class="form-check-label text-danger fw-bold" for="IsFridayOff">الجمعة</label>
                                </div>
                            </div>
                        </div>

                        <div class="form-check form-switch mb-4">
                            @Html.CheckBoxFor(m => m.IsDefault, new { @class = "form-check-input" })
                            <label class="form-check-label fw-bold" for="IsDefault">تعيين كدوام افتراضي للنقابة</label>
                        </div>

                        <div class="d-flex justify-content-between border-top pt-3">
                            <a href="@Url.Action("Index")" class="btn btn-secondary px-4">إلغاء</a>
                            <button type="submit" class="btn btn-primary px-5 fw-bold"><i class="bi bi-save me-2"></i> حفظ الإعدادات</button>
                        </div>
                    }
                </div>
            </div>
        </div>
    </div>
</div>
